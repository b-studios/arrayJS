<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Documentation</title>
    <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link href='http://fonts.googleapis.com/css?family=Terminal+Dosis+Light' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="../css/application.css"></link>
  </head>
  <body>
    <header id="header" class="s">
      <div class="wrapper">
        <nav>
          <h1>arrayjs</h1>
          
          <ul id="page-menu">
            <li><a href="../docs/README.html">Documentation</a>
            <li><a href="../api_index.html">Api-Docs</a>
          </ul>
          
          <form>
            <input type="search" id="search" placeholder="search API-docs" autocomplete="off" autofocus/>
          </form>
        </nav>
        
        <section class="browsers col50">          
          <section class="docs">
            <h1>Documents</h1>
            <ul>
             
               <li><a href="../docs/README.html">README</a></li>
             
            </ul>
          </section>        
          <section class="api-browser">
            <h1>API-Browser</h1>
            <ul><li class="function"><a href="arrayjs.html"><span >arrayjs</span></a><ul><li class="object"><a href="arrayjs/Collection.html"><span >Collection</span></a><ul><li class="function"><a href="arrayjs/Collection/each.html"><span >each</span></a><li class="function"><a href="arrayjs/Collection/collect.html"><span >collect</span></a><li class="function"><a href="arrayjs/Collection/map.html"><span >map</span></a><li class="function"><a href="arrayjs/Collection/filter.html"><span >filter</span></a><li class="function"><a href="arrayjs/Collection/reject.html"><span >reject</span></a><li class="function"><a href="arrayjs/Collection/replace.html"><span >replace</span></a><li class="function"><a href="arrayjs/Collection/compact.html"><span >compact</span></a><li class="function"><a href="arrayjs/Collection/remove.html"><span >remove</span></a><li class="function"><a href="arrayjs/Collection/deleteAt.html"><span >deleteAt</span></a><li class="function"><a href="arrayjs/Collection/removeAt.html"><span >removeAt</span></a><li class="function"><a href="arrayjs/Collection/uniq.html"><span >uniq</span></a><li class="function"><a href="arrayjs/Collection/fastUniq.html"><span >fastUniq</span></a><li class="function"><a href="arrayjs/Collection/insert.html"><span >insert</span></a><li class="function"><a href="arrayjs/Collection/concat.html"><span >concat</span></a><li class="function"><a href="arrayjs/Collection/reverse.html"><span >reverse</span></a><li class="function"><a href="arrayjs/Collection/dif.html"><span >dif</span></a><li class="function"><a href="arrayjs/Collection/cut.html"><span >cut</span></a><li class="function"><a href="arrayjs/Collection/clear.html"><span >clear</span></a><li class="function"><a href="arrayjs/Collection/contains.html"><span >contains</span></a><li class="function"><a href="arrayjs/Collection/index.html"><span >index</span></a><li class="function"><a href="arrayjs/Collection/count.html"><span >count</span></a><li class="function"><a href="arrayjs/Collection/toArray.html"><span >toArray</span></a><li class="function"><a href="arrayjs/Collection/item.html"><span >item</span></a><li class="function"><a href="arrayjs/Collection/first.html"><span >first</span></a><li class="function"><a href="arrayjs/Collection/last.html"><span >last</span></a><li class="function"><a href="arrayjs/Collection/valuesAt.html"><span >valuesAt</span></a><li class="function"><a href="arrayjs/Collection/isEmpty.html"><span >isEmpty</span></a><li class="function"><a href="arrayjs/Collection/size.html"><span >size</span></a><li class="function"><a href="arrayjs/Collection/copy.html"><span >copy</span></a><li class="function"><a href="arrayjs/Collection/toString.html"><span >toString</span></a></ul></ul></ul>
          </section>  
        </section>
        
        <section class="search-results col50">
          <section class="functions">
            <h1 class="icon function">Functions</h1>
          </section>        
          <section class="objects">
            <h1 class="icon object">Objects</h1>
          </section>
        </section> 
        
        <a href="#" class="collapse">Collapse</a>      
        <a href="#" class="expand" style="display: none;">Expand</a>         
      </div>
    </header>
    <div role="main" id="main">
      <article class="function"> 
  
  <header>
    <nav class="sidebar">
      <p>arrayjs.js:45</p>

      <div class="hierarchy">
        <h3>Hierarchy</h3>
        <ul><li class="this"><a href="arrayjs.html">arrayjs</a><ul class="children"><li><a href="arrayjs/Collection.html">.Collection</a></li></ul></ul>
      </div>
      
      
      
      
      
      
    </nav>
  
    <h1>arrayjs</h1>
    <section class="notification">
      
    </section> 
  </header>
    
  <div class="body">
    
    <p>Factorymethod for collections.</p>

    
    <!--span class="flag">constructor</span-->
   
    
    
    
    
  
      <section class="overload">
  <h2 class="signature">(<a href="arrayjs/Collection.html">arrayjs.Collection</a>) <span class='name'>arrayjs</span>(<span class='params'><span class="param">elements</span><span class="tooltip">(<span class="types">Array</span>) The elements which are used, to form the collection</span></span>)</h2>
  

  
  
<section class="param subsection">
  <h3 >Param</h3>
  <ul>
    <li>
  
    <h4>elements</h4>
  

  
    
    
      (<span class="types">Array</span>)
    
    <p>The elements which are used, to form the collection</p>

  
  
</li>  
  </ul>
</section>

  
<section class="return subsection">
  <h3 >Return</h3>
  <ul>
    <li>
  

  
    
    
      (<span class="types"><a href="arrayjs/Collection.html">arrayjs.Collection</a></span>)
    
    

  
  
</li>  
  </ul>
</section>

</section>
<section class="overload">
  <h2 class="signature">(<a href="arrayjs/Collection.html">arrayjs.Collection</a>) <span class='name'>arrayjs</span>(<span class='params'><span class="param">elements</span><span class="tooltip">(<span class="types">String</span>) Each whitespace seperated section of the string will be interpreted as an element of an array.</span></span>)</h2>
  <p>Sometimes it is easier to separate items of an array with whitespaces in a
string, so this is also possible: <code>_("foo bar yeah this works!");</code></p>

  
  
<section class="param subsection subsection">
  <h3 >Param</h3>
  <ul>
    <li>
  
    <h4>elements</h4>
  

  
    
    
      (<span class="types">String</span>)
    
    <p>Each whitespace seperated section of the string will be interpreted as an element of an array.</p>

  
  
</li>  
  </ul>
</section>

  
<section class="return subsection subsection">
  <h3 >Return</h3>
  <ul>
    <li>
  

  
    
    
      (<span class="types"><a href="arrayjs/Collection.html">arrayjs.Collection</a></span>)
    
    

  
  
</li>  
  </ul>
</section>

</section>
<section class="overload">
  <h2 class="signature">(<a href="arrayjs/Collection.html">arrayjs.Collection</a>) <span class='name'>arrayjs</span>(<span class='params'><span class="param">el1</span><span class="tooltip">(<span class="types">Object</span>) </span>, <span class="param">el2</span><span class="tooltip">(<span class="types">Object</span>) </span>, <span class="param">...</span><span class="tooltip">(<span class="types">...</span>) </span></span>)</h2>
  <p>Variadic function with multiple arguments. Every argument is    considered to
be an element of the array.</p>

  
  
<section class="param subsection subsection subsection">
  <h3 >Param</h3>
  <ul>
    <li>
  
    <h4>el1</h4>
  

  
    
    
      (<span class="types">Object</span>)
    
    

  
  
</li>  
<li>
  
    <h4>el2</h4>
  

  
    
    
      (<span class="types">Object</span>)
    
    

  
  
</li>  
<li>
  
    <h4>...</h4>
  

  
    
    
      (<span class="types">...</span>)
    
    

  
  
</li>  
  </ul>
</section>

  
<section class="return subsection subsection subsection">
  <h3 >Return</h3>
  <ul>
    <li>
  

  
    
    
      (<span class="types"><a href="arrayjs/Collection.html">arrayjs.Collection</a></span>)
    
    

  
  
</li>  
  </ul>
</section>

</section>
      
    
    
    <h3 class="source">Source</h3>
    <code class="source brush:js first-line:45">ar arrayjs = function(elements) {

	var applyToCopy = function(old, method) {	
		return function() {
			var copy = new Collection(old.toArray());
			method.apply(copy, arguments);
			return copy;
		}			
	}
  
  /**
   * @object arrayjs.Collection
   *
   * For information on how to retreive a Collection-Object from your list of
   * elements see {arrayjs the factory method}.
   *
   * All default Array-Operations can be used also on a arrayJS-Collection.
   * Implemented in Array by default:		 
	 * 
	 * - push
	 * - pop
	 * - shift
	 * - unshift		 
	 * - slice
	 * - splice
	 * - sort
	 * - filter (reimplemented this one for consistency)
   * 
   * Most of the operations found below can be chained, like:
   *
   *     var myArray = _([10, 2, 4, 8]);  
   *    
   *     myArray.filter(function() { return this &gt; 3; })  
   *            .collect(function() { return this*2;})  
   *            .each(function(i) { console.log(this, i); });  
   *
   *     &gt; 20 0
   *     &gt; 8 1
   *     &gt; 16 2
   *     &gt; [20, 8, 16]
   * 
   * 
   * Iterating
   * ---------
   * - {.each}
   *
   * Filtering
   * ---------
   * - {.compact}
   * - {.filter}
   * - {.reject}
   * - {.uniq}
   * - {.fastUniq}
   * 
   * 
   * The arrayJS Collection-Object
   */
	var Collection = function(elements) {				
		
		this.isCollection = true;	
			
		/** 
		 * provide indexOf Method if it does not exist. (Internet Explorer)
		 */
		if( !Array.prototype.indexOf ) {			
			this.indexOf = function(element) {			
				for(var i = 0; i &lt; this.length; i++) {				
					if(this[i] == element) {
						return i;
					}				
				}	
				return -1;				
			}
		}
	
		/**
		 * @method .each
		 *
		 * Iterates over all elements of this collection. Block gets element as this-context and
		 * can receive two arguments (i, el)
		 */
		this.each = function(block) {
			for(var i = 0; i &lt; this.length; i++) {					
				block.call(this[i], i, this[i]);
			}			
			return this;			
		};
		
	  /**
	   * @method .collect
		 *
	 	 * Modifies each element in existing array using the specified block
		 * 
		 *     _([1,5,6,7]).collect(function(i,el) {
		 *       return this*2;
		 *     });
		 *     
		 *     -&gt; _(2,10,12,14)
		 */	
		this.collect$ = function(block) {
			
			var that = this;
			return this.each(function(i) {
				that[i] = block.call(that[i], i, that[i]);
			});
		}
		this.collect = applyToCopy(this, this.collect$);
		

	  /** 
	   * @method .map
		 * Facade for {.collect}
		 */
		this.map$ = this.collect$;
		this.map = this.collect;		
		
	  /**
	   * @method .filter
	   *
	 	 * Own implementation of [].filter(), because of consistency in use
	 	 *
	 	 * @example Usage
	 	 *   $([1,5,6,7]).filter(function(i,el) {
	 	 *     return this &gt; 5;
	 	 *   });
	 	 * 
	 	 * @note FIXED: splice reduced the length, but each won't take notice of it.
	 	 */			
		this.filter$ = function(block) {
			for(var i = 0; i &lt; this.length; i++) {			
				if( !block.call(this[i],i,this[i]) )
					this.splice(i--,1);
			};
			return this
		}
		this.filter = function(block) {		
			var elements = [];			
			
			this.each( function(i, el) {					
				if( block.call(el, i, el) ) 
					elements.push(el);							
			});					
			
			return new Collection(elements);				
		}

		/**
		 * @method .reject
		 *
		 * Inverted-{.filter filter}
		 */
		this.reject$ = function(block) {
			return this.filter$(function(i, el) {
				return !block.call(this, i, el);
			});
		}
		this.reject = function(block) {
			return this.filter(function(i, el) {
				return !block.call(this, i, el);
			});
		}		
		
		/**
		 * @method .replace
		 *
		 * Replaces all occurances of toReplace with otherItem
		 */
		this.replace$ = function(toReplace, otherItem) {
			var that = this;
			return this.each(function(i,el) {
				if(that[i] == toReplace)
					that[i] = otherItem;			
			});
		}
		this.replace = applyToCopy(this, this.replace$);
		
	  /**
	   * @method .compact
	   *
	 	 * Removes all empty nodes (null or undefined) from Array
		 */
		this.compact$ = function() {
			return this.filter$(function(i, el) {
				return !(el == undefined || el == null);
			});
		}
		this.compact = function() {
			return this.filter(function(i, el) {
				return !(el == undefined || el == null);
			});
		}				

	  /**
	   * @method .remove 
	   * 
		 * Removes matching elements from Array
		 * @note Idea: use multiple arguments to specify, which items to be removed
		 *   or: use second argument for comparison function
		 */
		this.remove$ = function(element) {
			return this.filter$(function(i,el) {
				return el != element;
			});
		}
		this.remove = function(element) {		
			return this.filter(function(i,el) {
				return el != element;
			});
		}
		
		/**
		 * @method .deleteAt 
		 *
		 * Deletes the element at the specified index
		 */
		this.deleteAt$ = function(index) {
			this.splice(index, 1);
			return this;
		}
		this.deleteAt = applyToCopy(this, this.deleteAt$);		
		
		/**
		 * @method .removeAt
		 * Same as {.deleteAt}
		 */
		this.removeAt$ = this.deleteAt$;
		this.removeAt = this.deleteAt;
		
		/**
		 * @method .uniq
		 *
		 * Removes all duplicate entries from array. Currently not very performant. 
		 * Use {.fastUniq} instead, if you are experience problems.
		 * This algorithm has `O(n²)`
		 */
		this.uniq$ = function() {
			var elements = arrayjs();
			
			for(var i = 0; i &lt; this.length; i++) {				
				if(elements.indexOf(this[i]) == -1)
					elements.push(this[i]);
			}
			
			this.clear();
			Array.prototype.push.apply(this, elements.toArray());
			return this;
		}
		this.uniq = function() {
			var elements = arrayjs();
			
			for(var i = 0; i &lt; this.length; i++) {				
				if(elements.indexOf(this[i]) == -1)
					elements.push(this[i]);
			}
			
			return elements;
		}
		
		/**
		 * @method .fastUniq
		 *
		 * Faster version of {.uniq} with complexity `O(n*log(n) + n)`.
		 *
		 * @param [Function] comparison? The comparison-block is optional, but maybe 
		 *   needed for complex objects or arrays to work
		 * @return [arrayjs.Collection] sorted and unique array
		 */
		this.fastUniq$ = function(comparison) {
			var that = this;
			// IE won't work with undefined comparison as argument, so we need
			// this if-clause. Further it does not work with this.sort - so we
			// use Array.prototype.sort
			if(comparison)
				Array.prototype.sort.call(this, comparison);
			else 
				Array.prototype.sort.call(this);
			
			for(var i = 0; i &lt; this.length; i++) {
				if(i &gt; 0 &amp;&amp; that[i-1] == that[i])
					that.splice(i--,1);			
			}
			return this;				
		}
		this.fastUniq = applyToCopy(this, this.fastUniq$);
		
		/**
		 * @method .insert
		 *
		 * Accepts variable argumentlength.
		 *
		 * @param [Number] index index to insert at. All following
		 *   elements are inserted at this place.
		 */		
		this.insert$ = function(index) {
		
			if(arguments.length &lt; 2) 
				throw &quot;Please specify index and element(s) to insert.&quot;
				
			Array.prototype.splice.call(arguments, 1,0,0);
			Array.prototype.splice.apply(this, arguments);
			return this;
		}
		this.insert = applyToCopy(this, this.insert$);		
		
		/**
		 * @method .concat 
		 *
		 * Attaches the elements of other to the end of this collection
		 * @param [arrayjs.Collection] other
		 */
		this.concat$ = function(other) { 
			Array.prototype.push.apply(this, this.toArray.call(other));
			return this;
		}
		this.concat = function(other) {
			// the second argument of concat intentionally uses this.toArray, because it could be
			// a real array and therefore doesn't have the method 'toArray'
			return new Collection(Array.prototype.concat.call(this.toArray(), this.toArray.apply(other)));
		}
		this.cat$ = this.concat$;
		this.cat = this.concat;
		
	  /** 
	   * @method .reverse
	   *
		 * Reverse could be inherited from Array.prototype, but then the reversal would be saved
		 * to original Collection and not a new one would be returned
		 */
		this.reverse$ = function() { 
			Array.prototype.reverse.apply(this);
			return this;
		}
		this.reverse = applyToCopy(this, this.reverse$);
			
		/**
		 * @method .dif
		 *
		 * Removes all items from this collection, which are contained in otherArray and therefore 
		 * creating the difference
		 * 
		 * @param [arrayjs.Collection] other
		 */
		this.dif$ = function(otherArray) {
			var other = arrayjs(otherArray);
			for(var i = 0; i &lt; this.length; i++) {
				if(other.contains(this[i]))
					this.splice(i--,1);
			}
			return this;
		}
		this.dif = applyToCopy(this, this.dif$);
		
		/**
		 * @method .cut
		 *
		 * Returns the cut (intersection) of this array with `other`. 
		 * To be a little more efficient it does NOT prevent duplicates. This results 
		 * in O(n²) instead of O(n³)
		 *
		 * @param [arrayjs.Collection] other
		 */		 
		this.cut$ = function(otherArray) {			
			var other = arrayjs(otherArray);
			for(var i = 0; i &lt; this.length; i++) {
				if(!other.contains(this[i]))
					this.splice(i--,1);
			}
			return this;
		}
		this.cut = applyToCopy(this, this.cut$);	
	
		/**
		 * @method .clear
		 *
		 * @warn This method really clears THIS-collection. It should be named 
		 *   clear$, but that maybe a little confusing?! What do you think?
		 */
		this.clear = function() {
		// have to check this in IE!!!
		Array.prototype.splice.call(this, 0, this.length);
		return this;
		}
		this.empty = this.clear;
	
	
   //------------------------------- NOT CHAINING METHODS -----------------------------------------	
	
	 /**
	  * @method .contains
	  *
		*	Finds first occurance of element and returns true if found and false if not found
		* @param [Object] element
		*/
		this.contains = function(element) {			
			return this.indexOf(element) == -1? false: true;	
		}	
		
		/**
		 * @method .index
		 *
		 * Get's the index of the searched element. Facade for indexOf, but returns null, if the
		 * element is not found.
		 * @param [Object] element
		 */
		this.index = function(element) {
			var index = this.indexOf(element);
			return index == -1? null :index;			
		}
		
	  /**
	   * @method .count
	   *
		 * Counts the occurances of element in Array
		 * @param [Object] element
		 */
		this.count = function(element) {
			return this.filter(function(i,el) {
				return element == el;
			}).length;		
		}
		
		/**
		 * @method .toArray
		 *
		 * Probably fastest way to convert to real Array.
		 * Should multidimentsional arrays be converted to multidimensional
		 * collections in the first place and then reconverted to multidimensional
		 * native arrays with this methods???
		 * 
		 * @return [Array] the equivalent 'real' Array
		 */
		this.toArray = function() {					
			return Array.prototype.slice.call(this);
		}	 
		
		/**
		 * @method .item
		 *
		 * Facade for bracket-access
		 */
		this.item = function(index) {
			return this[index];
		}
		
		/**
		 * @method .first
		 *
		 * @return [Object] first element of this collection
		 */
		this.first = function() {
			return this[0];
		}
		
		/**
		 * @method .last
		 *
		 * @return [Object] last element of this collection
		 */		
		this.last = function() {
			return this[this.length-1];
		}
		
		/**
		 * @method .valuesAt
		 *
		 * Returns values, which are specified at indices. Mutliple arguments are 
		 * allowed. The values are returned in a new collection.
		 *
		 * @param [Number] index1
		 * @param [Number] index2
		 * @param [...] ...
		 *
		 * @example 
		 *   _(1,5,7,8,9).valuesAt(0,2,3);
		 *   &gt; [1,7,8]
		 * 
		 * @return [arrayjs.Collection] A new collection, containing the selected
		 *   values.
		 */
		this.valuesAt = function() {		
			var elements = new Collection();						
			for(var i = 0; i &lt; arguments.length; i++) {
				elements.push(this[arguments[i]]);
			}
			return elements;
		}	
		
		/**
		 * @method .isEmpty
		 *
		 * @return [Boolean] true, if this collection is empty
		 */
		this.isEmpty = function() { return this.length == 0; }
		
		/**
		 * @method .size
		 *
		 * @return [Number] the size of this collection. Facade for this.length
		 * 
		 */
		this.size = function() { return this.length; }		
		
		/**
		 * @method .copy
		 *
		 * Can be used to get copy of this collection and work modifying on that,
		 * whithout influencing original collection.
		 *
		 * @return [arrayjs.Collection] Shallow Copy of the underlying array
		 */
		 this.copy = function() {
			return arrayjs(this);
		 }
		
		/**
		 * @method .toString
		 *
		 * @return [String] &quot;_[element0, element1, element 2 etc.]&quot;
		 */
		this.toString = function() {
			return '_['+ this.join(', ') +']';
		}		
		
	 /**
		* Thanks to John Resig (jQuery):
		*
		*	 &quot;Resetting the length to 0, then using the native Array push
		*	  is a super-fast way to populate an object with array-like 
		*	  properties.&quot;
		*/	
		this.length = 0;
		Array.prototype.push.apply(this, elements);
		
		return this;
	}
	// Now Collection looks like a real Array!
	Collection.prototype = Array.prototype;	
	
	// no arguments given
	if(elements == undefined)
		elements = [];		
		
	// It's a string
	if(elements.charAt != undefined)
	  elements = elements.split(' ');
	
	// it's already a Collection-Object
	if(elements &amp;&amp; elements.isCollection)
		return elements;
	
	// There are multiple arguments, so tread them as array
	// fix: the first argument was an array itself...
	if(arguments.length &gt; 1) {	
		//arguments[0] = arguments[0][0];	
		return new Collection(Array.prototype.slice.call(arguments));
	} else {
		return new Collection(elements);	
	}	
}
var </code>
  
  </div>
 
</article> 
    </div>
    <footer id="footer">
      <div class="wrapper">
        Documentation created automagically with <a href="http://www.github.com/b-studios/doc.js">Doc.js for ruby</a>.
      </div>
    </footer>
    <script src="../js/jcore.js"></script>    
    <script>
      var J = J || {};
      J.root = "../";
      window.jQuery || document.write("<script src='"+J.root+"js/jquery.js'>\x3C/script>")
    </script>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.6/jquery.js"></script>
    <script src="../js/jquery.treeview.js"></script><script src="../js/jquery.cookie.js"></script><script src="../js/jquery.tooltip.js"></script><script src="../js/regexpx.js"></script><script src="../js/shCore.js"></script><script src="../js/shBrushJScript.js"></script><script src="../js/application.js"></script><script src="../js/apisearch-data.js"></script>
  <body>
</html>
